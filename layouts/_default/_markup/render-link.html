{{- $page := .Page -}}
{{- $slug := $page.File.ContentBaseName -}}
{{- $linkedSlug := .Destination -}}
{{- $linkedPage := site.GetPage $linkedSlug -}}
{{- if $linkedPage -}}
{{- $title := default $linkedPage.Title (safeHTML .Text) -}}
{{- partial "local_link.html" (dict "page" $linkedPage "title" $title) -}}
{{- else -}}
<a href="{{ .Destination | safeURL }}">{{ .Text | safeHTML }}</a>
{{- end -}}
